/*
 * miner.c
 *
 *  Created on: 5 May 2023
 *      Author: gabrijel
 */




#include "miner.h"

uint16_t miner_colors_0[] = {
		0x0, 0x4228, 0x9c64, 0x8a00, 0x5120, 0xfcc0, 0x99a2, 0x5aeb, 0xffff, 0xfaa4, 0xe360, 0xf46c, 0xf206, 0x9cf3, 0x30a0
};
uint8_t miner_r_0[] = {
		0, 0, 1, 17, 17, 0, 0, 0, 0, 0,
		0, 0, 18, 34, 34, 16, 0, 0, 0, 0,
		0, 0, 18, 34, 34, 33, 0, 0, 0, 0,
		0, 1, 34, 34, 34, 33, 0, 1, 17, 0,
		0, 1, 17, 17, 17, 17, 0, 19, 65, 0,
		0, 0, 21, 16, 85, 97, 1, 48, 7, 0,
		0, 0, 21, 24, 89, 145, 26, 0, 7, 0,
		0, 1, 85, 85, 150, 17, 48, 0, 183, 176,
		0, 0, 25, 150, 153, 16, 16, 11, 21, 27,
		0, 17, 22, 150, 145, 16, 1, 11, 28, 27,
		0, 26, 25, 105, 26, 17, 17, 11, 17, 27,
		0, 23, 17, 145, 58, 29, 113, 0, 187, 176,
		1, 85, 19, 26, 161, 85, 81, 0, 0, 0,
		1, 85, 26, 163, 161, 85, 81, 0, 0, 0,
		1, 85, 19, 51, 49, 85, 81, 0, 0, 0,
		0, 17, 30, 30, 238, 17, 16, 0, 0, 0,
		0, 0, 19, 20, 52, 16, 0, 0, 0, 0,
		0, 0, 20, 19, 67, 49, 0, 0, 0, 0,
		0, 1, 49, 68, 67, 65, 0, 0, 0, 0,
		0, 1, 17, 17, 17, 17, 0, 0, 0, 0

};
uint8_t miner_l_0[] = {
		0, 0, 0, 0, 0, 17, 17, 16, 0, 0,
		0, 0, 0, 0, 1, 34, 34, 33, 0, 0,
		0, 0, 0, 0, 18, 34, 34, 33, 0, 0,
		0, 17, 16, 0, 18, 34, 34, 34, 16, 0,
		0, 20, 49, 0, 17, 17, 17, 17, 16, 0,
		0, 112, 3, 16, 22, 85, 1, 81, 0, 0,
		0, 112, 0, 161, 25, 149, 129, 81, 0, 0,
		11, 123, 0, 3, 17, 105, 85, 85, 16, 0,
		177, 81, 176, 1, 1, 153, 105, 145, 0, 0,
		177, 193, 176, 16, 1, 25, 105, 97, 17, 0,
		177, 17, 176, 17, 17, 161, 150, 145, 161, 0,
		11, 187, 0, 23, 209, 163, 25, 17, 113, 0,
		0, 0, 0, 21, 85, 26, 161, 49, 85, 16,
		0, 0, 0, 21, 85, 26, 58, 161, 85, 16,
		0, 0, 0, 21, 85, 19, 51, 49, 85, 16,
		0, 0, 0, 1, 17, 238, 225, 225, 17, 0,
		0, 0, 0, 0, 1, 67, 65, 49, 0, 0,
		0, 0, 0, 0, 19, 52, 49, 65, 0, 0,
		0, 0, 0, 0, 20, 52, 68, 19, 16, 0,
		0, 0, 0, 0, 17, 17, 17, 17, 16, 0
};

miner* new_miner(life_points* lp, velocity* vel, pixel_position* pos, move* mov) {
	miner* min = (miner*)malloc(sizeof(miner));

		min->state = 0;
		min->lp		= (life_points*)malloc(sizeof(life_points));
		min->lp		= lp;
		min->vel	= (velocity*)malloc(sizeof(velocity));
		min->vel	= vel;
		min->pos	= (pixel_position*)malloc(sizeof(pixel_position));
		min->pos  = pos;
		min->mov 	= (move*) malloc(sizeof(pixel_position));
		min->mov 	= mov;

		min->next = (miner*)malloc(sizeof(miner));
		min->next = NULL;
		min->prev = (miner*)malloc(sizeof(miner));
		min->prev = NULL;

		return min;
}
